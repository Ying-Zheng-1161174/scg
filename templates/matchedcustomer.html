{% extends "base.html" %}
{% block content %}

<div class="container">
    <!--Check if matched_customers exist-->
    {% if matched_customers %}
    <form action="/customer/edit" method="GET">
        <div class="row mt-5 mb-3 justify-content-center">
            <div class="col">
                <h1 class="fs-3 fw-normal text-center text-dark">Selwyn Campground - Matched Customers</h1>
            </div>
        </div>
        <!--Display customers in table-->
        <div class="row justify-content-center mb-3">
            <div class="col-12 text-center">
                <table class="table table-default table-hover table-bordered mt-3">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Email Address</th>
                            <th>Phone Number</th>
                            <th></th>
                        </tr>
                    </thead>
                    {% for customer in matched_customers %}
                    <tbody>
                        <tr>
                            <td>{{ customer[1] }} {{ customer[2] }}</td>
                            <td>{{ customer[3] }}</td>
                            <td>{{ customer[4] }}</td>
                            <!-- Create a button redirect to edit page -->
                            <td>
                                <a href="{{ url_for('edit_customer', customer_id = customer[0]) }}"
                                    class="btn btn-outline-info">Edit</a>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </form>
    {% else %}
    <div class="row justify-content-center">
        <p class="fs-6 fw-normal mt-5 text-center">Customer not found</p>
        <a href="{{ url_for('search_customer')}}" class="btn btn-outline-primary col-auto mt-2">Go Back</a>
    </div>
    {% endif %}
</div>
{% endblock %}