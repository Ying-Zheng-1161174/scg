{% extends "base.html" %}
{% block content %}
<!-- code in here to display a list of bookings-->
<h2>Selwyn Campground - Make a booking</h2>

<!--Check if there are available sites for the chosen date-->
{% if sitelist %}
    <form action="/booking/add" method="POST" class="needs-validation" novalidate>
    <label for="bookingdate">Start Date to be booked</label>
    <input type="date" enabled="false" name="bookingdate" value="{{bookingdate}}" readonly/>
    <br>
    <input type="hidden" name="bookingnights" value="{{bookingnights}}"/>
    <input type="hidden" name="occupancy" value="{{occupancy}}"/>
    <div>
    <label for="customer">Customer to book for</label>
    <select name="customer" required>
        {% for customer in customerlist %} 
        <option value="{{customer[0]}}">{{customer[1]}} {{customer[2]}}</option>
        {% endfor %}
    </select><br>
        <div class="invalid-feedback">
            Please choose a customer 
        </div>
    </div>

    <div>
    <label for="site">Site to select</label><br>
    <!-- radio button loop -->
    {% for site in sitelist %}
    <input type="radio" name="site" value="{{site[0]}}" required> {{site[0]}} - {{site[1]}} occupancy </input><br>
    {% endfor %}
        <div class="invalid-feedback">
            Please choose a campsite
        </div>
    </div>
    <br>
<input type="submit"/>
</form>

{% else %}
<p>No available sites for the selected date, please check another date.</p>
{% endif %}

{% endblock %}